#!/bin/zsh
typeset -A WRAPPERS
export WRAPPERS
__wrap_notice() {
	if [[ "$ZSH_DEBUG" != "0" ]]; then
		local name="$1"
		local path="$(command -v "$name" 2>/dev/null || true)"
		if [[ -n "$path" ]]; then
		    if [[ -n WRAPPERS[$name] ]]; then
			export WRAPPERS[$name]="$path"
		    else
			print -P "Command $name (WRAPPERS[$name]) is wrapped twice!"
		    fi
		fi
	fi
}

__output_wrap_notice() {
    for key value in ${(kv)WRAPPERS}; do
	echo "$key â†’ $value" | column
    done
}
